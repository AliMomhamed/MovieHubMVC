@{
    ViewBag.Title = "Dashboard";
}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
    body {
        background-color: #f4f6f9;
        font-family: 'Segoe UI', sans-serif;
    }

    .navbar {
        background-color: #0d6efd;
    }

    .navbar-brand {
        color: #fff !important;
        font-weight: bold;
        font-size: 1.4rem;
    }

    .card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    }

    footer {
        background: #fff;
        text-align: center;
        padding: 15px;
        margin-top: 40px;
        border-top: 1px solid #ddd;
    }
</style>

<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">🎬 MovieHub Dashboard</a>
    </div>
</nav>

<div class="container mt-5">
    <h2 class="text-center mb-4 fw-bold">لوحة التحكم الرئيسية</h2>

    <div class="row g-4">

        <!-- Movies -->
        <div class="col-md-3">
            <div class="card text-white bg-primary text-center p-3 rounded-4">
                <div class="card-body">
                    <h2 class="fw-bold">@ViewBag.Movies</h2>
                    <p class="fs-5">Movies</p>
                    <a href="~/Movies" class="btn btn-light btn-sm rounded-pill">View</a>
                </div>
            </div>
        </div>

        <!-- Actors -->
        <div class="col-md-3">
            <div class="card text-white bg-success text-center p-3 rounded-4">
                <div class="card-body">
                    <h2 class="fw-bold">@ViewBag.Actors</h2>
                    <p class="fs-5">Actors</p>
                    <a href="~/Actors" class="btn btn-light btn-sm rounded-pill">View</a>
                </div>
            </div>
        </div>

        <!-- Cinemas -->
        <div class="col-md-3">
            <div class="card text-dark bg-warning text-center p-3 rounded-4">
                <div class="card-body">
                    <h2 class="fw-bold">@ViewBag.Cinemas</h2>
                    <p class="fs-5">Cinemas</p>
                    <a href="~/Cinemas" class="btn btn-dark btn-sm rounded-pill">View</a>
                </div>
            </div>
        </div>

        <!-- Categories -->
        <div class="col-md-3">
            <div class="card text-white bg-danger text-center p-3 rounded-4">
                <div class="card-body">
                    <h2 class="fw-bold">@ViewBag.Categories</h2>
                    <p class="fs-5">Categories</p>
                    <a href="~/Categories" class="btn btn-light btn-sm rounded-pill">View</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart Section -->
    <div class="card mt-5 shadow-sm border-0 rounded-4">
        <div class="card-body">
            <h4 class="text-center mb-4">📊 System Overview</h4>
            <canvas id="statsChart" height="100"></canvas>
        </div>
    </div>
</div>

<footer>
    <p class="mb-0 text-muted">© @DateTime.Now.Year MovieHub Dashboard — All Rights Reserved.</p>
</footer>

<script>
    const ctx = document.getElementById('statsChart');

    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Movies', 'Actors', 'Cinemas', 'Categories'],
            datasets: [{
                label: 'Count',
                data: [@ViewBag.Movies, @ViewBag.Actors, @ViewBag.Cinemas, @ViewBag.Categories],
                backgroundColor: ['#0d6efd', '#198754', '#ffc107', '#dc3545']
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: { display: false },
                title: { display: true, text: 'System Data Summary', font: { size: 18 } }
            },
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
